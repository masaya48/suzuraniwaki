---
import { Image } from 'astro:assets';
import Icon from './Icon.astro';
import logoImage from '../assets/logo.png';
import lineIcon from '../assets/LINE_Brand_icon.png';
---

<aside class="sidebar">
	<div class="sidebar-content">
		<div class="sidebar-header">
			<Image src={logoImage} alt="からだサポートSUZURAN" class="sidebar-logo" />
			<h3 class="sidebar-title">ご予約・お問合せ</h3>
		</div>

		<div class="facility-image">
			<div class="image-placeholder">外観写真</div>
		</div>

		<div class="info-badge">完全予約制</div>

		<div class="info-section">
			<h4 class="info-title">店舗情報</h4>
			<dl class="info-list">
				<dt>店舗名</dt>
				<dd>からだサポートSUZURAN</dd>

				<dt>住所</dt>
				<dd>
					〒973-8404<br />
					福島県いわき市内郷内町四方北114-3
				</dd>

				<dt>駐車場</dt>
				<dd>完備（5台）</dd>
			</dl>
		</div>

		<div class="reservation-buttons">
			<a href="tel:090-2999-3760" class="btn-reservation phone">
				<Icon name="phone" size={20} class="btn-icon" />
				<span class="btn-text">電話予約</span>
			</a>
			<a href="line://ti/p/%40hss5518z" class="btn-reservation line">
				<Image src={lineIcon} alt="LINE" width={20} height={20} class="line-icon" />
				<span class="btn-text">LINE予約</span>
			</a>
		</div>

		<div class="hours-section">
			<h4 class="info-title">営業時間</h4>
			<table class="hours-table">
				<thead>
					<tr>
						<th>受付時間</th>
						<th>月</th>
						<th>火</th>
						<th>水</th>
						<th>木</th>
						<th>金</th>
						<th>土</th>
						<th>日</th>
						<th>祝</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td class="time-cell">9:00 〜 21:00<br /><small>(最終受付20:30)</small></td>
						<td>●</td>
						<td>●</td>
						<td>●</td>
						<td>●</td>
						<td>●</td>
						<td>●</td>
						<td>●</td>
						<td>●</td>
					</tr>
				</tbody>
			</table>
			<p class="hours-note">定休日: 不定休</p>
		</div>

		<div class="map-section">
			<h4 class="info-title">アクセスマップ</h4>
			<div class="map-container">
				<iframe
					src="https://maps.google.com/maps?q=37.040028,140.857306&hl=ja&z=16&output=embed"
					width="100%"
					height="100%"
					style="border:0;"
					allowfullscreen=""
					loading="lazy"
					referrerpolicy="no-referrer-when-downgrade"
					title="からだサポートSUZURAN 地図"
				></iframe>
			</div>
		</div>
	</div>
</aside>

<style>
	.sidebar {
		position: sticky;
		top: 100px;
		height: fit-content;
	}

	.sidebar-content {
		background: white;
		border-radius: 24px;
		padding: 2rem;
		box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
		border: 1px solid var(--color-border);
	}

	.sidebar-header {
		text-align: center;
		margin-bottom: 1.5rem;
	}

	.sidebar-logo {
		width: 80px;
		height: 80px;
		object-fit: contain;
		border-radius: 50%;
		border: 2px solid var(--color-cream);
		margin-bottom: 1rem;
	}

	.sidebar-title {
		font-size: 1.5rem;
		font-weight: 700;
		color: var(--color-text);
		margin: 0;
	}

	.facility-image {
		width: 100%;
		aspect-ratio: 4/3;
		margin-bottom: 1.5rem;
	}

	.image-placeholder {
		width: 100%;
		height: 100%;
		background: linear-gradient(135deg, #f5f3f0 0%, #e8e4e1 100%);
		border-radius: 16px;
		display: flex;
		align-items: center;
		justify-content: center;
		color: var(--color-text-light);
		font-weight: 500;
	}

	.info-badge {
		background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-accent) 100%);
		color: white;
		text-align: center;
		padding: 0.75rem 1rem;
		border-radius: 50px;
		font-weight: 700;
		margin-bottom: 1.5rem;
		box-shadow: 0 4px 12px rgba(212, 129, 111, 0.3);
	}

	.info-section, .hours-section, .map-section {
		margin-bottom: 2rem;
	}

	.info-title {
		font-size: 1.1rem;
		font-weight: 700;
		color: var(--color-text);
		margin: 0 0 1rem 0;
		padding-bottom: 0.75rem;
		border-bottom: 2px solid var(--color-primary);
	}

	.info-list {
		display: grid;
		gap: 1rem;
	}

	.info-list dt {
		font-weight: 600;
		color: var(--color-primary);
		font-size: 0.9rem;
		margin-bottom: 0.25rem;
	}

	.info-list dd {
		margin: 0;
		color: var(--color-text);
		line-height: 1.6;
	}

	.reservation-buttons {
		display: flex;
		flex-direction: column;
		gap: 0.75rem;
		margin-bottom: 2rem;
	}

	.btn-reservation {
		display: flex;
		align-items: center;
		justify-content: center;
		gap: 0.5rem;
		padding: 1rem 1.5rem;
		border-radius: 50px;
		font-weight: 700;
		transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
		text-align: center;
	}

	.btn-reservation.phone {
		background: linear-gradient(135deg, #10b981 0%, #059669 100%);
		color: white;
		box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
	}

	.btn-reservation.phone:hover {
		transform: translateY(-2px);
		box-shadow: 0 6px 16px rgba(16, 185, 129, 0.4);
	}

	.btn-reservation.line {
		background: linear-gradient(135deg, #06c755 0%, #00b900 100%);
		color: white;
		box-shadow: 0 4px 12px rgba(6, 199, 85, 0.3);
	}

	.btn-reservation.line:hover {
		transform: translateY(-2px);
		box-shadow: 0 6px 16px rgba(6, 199, 85, 0.4);
	}

	.btn-icon {
		flex-shrink: 0;
	}

	.line-icon {
		width: 20px;
		height: 20px;
		flex-shrink: 0;
	}

	.hours-table {
		width: 100%;
		border-collapse: collapse;
		font-size: 0.875rem;
		margin-bottom: 0.75rem;
	}

	.hours-table th,
	.hours-table td {
		padding: 0.5rem 0.25rem;
		text-align: center;
		border: 1px solid var(--color-border);
	}

	.hours-table thead th {
		background: var(--color-bg-gray);
		font-weight: 600;
		color: var(--color-text);
	}

	.hours-table tbody td {
		color: var(--color-primary);
		font-weight: 600;
	}

	.time-cell {
		text-align: left !important;
		padding-left: 0.5rem !important;
	}

	.time-cell small {
		font-size: 0.75rem;
		color: var(--color-text-light);
	}

	.hours-note {
		font-size: 0.875rem;
		color: var(--color-text);
		margin: 0;
		text-align: center;
	}

	.map-container {
		position: relative;
		width: 100%;
		aspect-ratio: 1;
		border-radius: 16px;
		overflow: hidden;
		box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
		border: 2px solid var(--color-border);
	}

	.map-container iframe {
		width: 100%;
		height: 100%;
		display: block;
	}

	@media (max-width: 1024px) {
		.sidebar {
			position: static;
			margin-top: 3rem;
		}
	}

	@media (max-width: 768px) {
		.sidebar-content {
			padding: 1.5rem;
		}

		.hours-table {
			font-size: 0.75rem;
		}

		.hours-table th,
		.hours-table td {
			padding: 0.4rem 0.15rem;
		}
	}
</style>
